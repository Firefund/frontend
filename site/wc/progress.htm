<link rel="import" href="/lib/polymer-mini.html">

<dom-module id="f-progress">
	
	<template>
		<link rel="stylesheet" href="/css/blocks/f-progress.css">
		
		<section class="f-progress">
			<div class="f-progress__bar">
				<div style="width: 38%;" class="f-progress__value"></div>
			</div>
			<div class="f-progress__data">
				<p class="f-progress__data-element">
					<span>22</span> days to go
				</p>
				<p class="f-progress__data-element">
					<span>38%</span> of $50,000
				</p>
				<p class="f-progress__data-element">
					<span>$14,928</span> reached in total
				</p>
			</div>
		</section>

	</template>
	
	<script>
		Polymer({
			/* this is the element's prototype */
			is: 'f-progress',

			properties: {
				name: String,
				modifier: String,
				value: Number,
				goal: Number,
				days: Number,
				total: Number,
				symbol: String
			},
			ready: function() {
				changeModifier(this, this.attributes.getNamedItem("modifier").nodeValue)
				changeValue(this, this.attributes.getNamedItem("value").nodeValue)
				changeGoal(this, this.attributes.getNamedItem("goal").nodeValue)
			}
			// attached: function() { console.log(this.name) },
		})

		function changeModifier(el, mod) {
			var modifier = mod || "default"

			if(modifier === "default") return

			el.querySelector(".f-progress")
				.classList
				.add("f-progress_" + modifier)
		}

		function changeValue(el, val) {
			var val = val + "%"
			el.querySelector(".f-progress__value")
				.style
				.width = val
			el.querySelectorAll(".f-progress__data-element span")[1]
				.innerText = val
		}

		function changeGoal(el, goal) {
			el.querySelector("")
		}
  </script>
	
</dom-module>